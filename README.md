# 🤖 بوت التداول الذكي الشامل - الإصدار المحدث

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Telegram](https://img.shields.io/badge/Telegram-Bot-blue.svg)](https://core.telegram.org/bots)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT4-green.svg)](https://openai.com/)

بوت تيليجرام متكامل للتداول والتحليل المالي مع الذكاء الاصطناعي يتضمن ربط MetaTrader 5 و TradingView مع تحليل لحظي متقدم.

## 🆕 الميزات الجديدة

### 🔗 المرحلة الأولى: الربط بالمصادر
- 📡 ربط البوت بمنصة MetaTrader 5 باستخدام مكتبة MetaTrader5
- 📊 محاولة الربط بـ TradingView (عبر scraping أو API)
- 🔁 آلية اتصال واستدعاء بيانات لحظية ودائمة للتحليل

### 🧠 المرحلة الثانية: التحليل اللحظي بالذكاء الاصطناعي
- 🤖 وحدة تحليل تعتمد على المؤشرات اللحظية
- 📈 تحليل السوق بناءً على عدة فريمات: M1, M3, M5, M15, H1
- 🔍 استخدام تحليل بياني (charting) لتوقع اتجاهات البيع والشراء

### 🚨 المرحلة الثالثة: إشعارات الصفقات الرابحة
- ✅ إرسال إشعارات على تيليجرام عند توفر صفقة بنسبة ربح 90% أو أعلى
- 📬 تخصيص الإشعار حسب نوع الصفقة (بيع/شراء) + الزوج

### 📊 المرحلة الرابعة: إدارة رأس المال وتحديد الصفقات
- 🔐 عند إدخال كلمة المرور، يسأل البوت المستخدم عن قيمة رأس المال
- 💵 تحويل قيمة رأس المال إلى متغير يتم استخدامه في توزيع الصفقات
- 🔧 زر لتغيير رأس المال لاحقًا (يُدخل بالدولار)

### 🕹️ المرحلة الخامسة: تحديد نمط التداول
- 🎛️ زر لاختيار نوع التداول:
  - ⚡ سكالبينغ (مع تحديد الأوقات المناسبة)
  - 📈 تداول طويل المدى

### 📉 المرحلة السادسة: ضبط الحدود وتنظيم الصفقات
- ⛔ حد أقصى 10 صفقات يوميًا
- 🛑 حذف وقف الخسارة التلقائي من النظام
- 🕒 تقليل زمن حفظ الصفقات من 6 أشهر إلى 3 أشهر

### 🔘 المرحلة السابعة: واجهة الأزرار وتصنيفات الأزواج
- ⚙️ لكل زر متعلق بصفقة، يُرفق سطر أو اثنين فيه وصف مختصر قبل تنفيذ الصفقة
- 🌐 تصنيف الأزواج إلى 3 أزرار رئيسية:
  - **💱 العملات**:
    - EUR/USD (يورو/دولار)
    - USD/JPY (دولار/ين)
    - GBP/EUR (جنيه/يورو)
  - **🥇 المعادن**:
    - XAU/USD (ذهب مقابل الدولار)
  - **₿ العملات الرقمية**:
    - Bitcoin (بيتكوين)
    - Litecoin (لايتكوين)
    - Ethereum (إيثريوم)

## 🚀 البدء السريع

### المتطلبات
```bash
pip install -r requirements.txt
```

### تشغيل البوت
```bash
python tbot2.py
```

### كلمة المرور
```
tra12345678
```

## 📱 كيفية الاستخدام

### 1. المصادقة
- أرسل `/start` للبوت
- أدخل كلمة المرور: `tra12345678`

### 2. تعيين رأس المال
- اختر من القيم المحددة مسبقاً أو أدخل مبلغ مخصص
- سيتم حساب 2% كمخاطرة لكل صفقة

### 3. اختيار نمط التداول
- **⚡ السكالبينغ**: تداول سريع، أرباح صغيرة متكررة
- **📈 طويل المدى**: صفقات أقل، أرباح أكبر

### 4. تحليل الأسواق
- اختر من تصنيفات الأزواج المالية
- احصل على تحليل شامل بالذكاء الاصطناعي
- راقب الإشعارات للصفقات عالية الربحية (90%+)

## 🔧 الإعدادات المتقدمة

### إدارة المخاطر
- الحد الأقصى للصفقات اليومية: 10
- نسبة المخاطرة لكل صفقة: 2%
- مستوى الثقة للإشعارات: 90%+
- بدون وقف خسارة تلقائي

### أنماط التداول
```python
# السكالبينغ
timeframes = ['M1', 'M3', 'M5']
profit_target = 0.5%
active_hours = [8-12, 13-17, 20-24]

# طويل المدى  
timeframes = ['M15', 'H1']
profit_target = 2.0%
active_hours = 24/7
```

## 📊 مصادر البيانات

### MetaTrader 5
- بيانات لحظية من منصة MT5
- دعم جميع الإطارات الزمنية
- معلومات تفصيلية عن الرموز

### Yahoo Finance (البديل)
- بيانات مجانية ومتاحة
- دعم العملات والمعادن والعملات الرقمية
- تحديث منتظم

### TradingView (تجريبي)
- محاولة جلب البيانات عبر scraping
- يتطلب تطوير إضافي للواجهة الكاملة

## 🤖 الذكاء الاصطناعي

### GPT-4 التحليل
- تحليل فني شامل
- توقعات الاتجاهات
- حساب مستويات الثقة
- توصيات تداول ذكية

### المؤشرات المدعومة
- RSI (مؤشر القوة النسبية)
- MACD (تقارب وتباعد المتوسطات المتحركة)
- Bollinger Bands (نطاقات بولينجر)
- SMA/EMA (المتوسطات المتحركة)
- Stochastic (ستوكاستيك)
- ATR (متوسط المدى الحقيقي)

## 📁 بنية الملف

```
tbot2.py
├── المكتبات والاستيراد
├── إعداد البوت والذكاء الاصطناعي
├── فئات النظام
│   ├── SimpleStorage (تخزين JSON)
│   ├── MetaTrader5Manager (إدارة MT5)
│   ├── TradingViewScraper (بيانات TradingView)
│   ├── AdvancedMarketAnalyzer (تحليل متقدم)
│   ├── CapitalManager (إدارة رأس المال)
│   ├── RiskManager (إدارة المخاطر)
│   ├── TradingModeManager (أنماط التداول)
│   ├── SmartTradingEngine (محرك التداول)
│   ├── NotificationManager (إدارة الإشعارات)
│   └── MarketMonitorService (مراقبة السوق)
├── واجهات المستخدم
│   ├── لوحات المفاتيح
│   └── معالجات الرسائل
└── الدالة الرئيسية
```

## ⚠️ تنبيهات مهمة

- 🚨 **هذا بوت تعليمي**: جميع الصفقات في وضع المحاكاة
- 🔐 **أمان المفاتيح**: احرص على حماية مفاتيح API
- 📚 **ليست نصيحة استثمارية**: استخدم لأغراض التعلم فقط
- 🛡️ **إدارة المخاطر**: لا تتجاوز حدود المخاطرة المحددة

## 🔄 التحديثات المستقبلية

- [ ] ربط كامل بـ TradingView API
- [ ] دعم المزيد من المنصات (Binance, MT4)
- [ ] تحليل الأخبار الاقتصادية
- [ ] تحليل المشاعر من وسائل التواصل
- [ ] تقارير أداء تفصيلية
- [ ] دعم التداول الآلي الحقيقي

## 📞 الدعم

للمساعدة والدعم، تواصل مع مطور البوت.

---

**مطور البوت**: مطور البوت الذكي  
**التاريخ**: 2024  
**الإصدار**: 2.0 المحدث

🚀 **استمتع بالتداول الذكي مع أحدث تقنيات الذكاء الاصطناعي!**